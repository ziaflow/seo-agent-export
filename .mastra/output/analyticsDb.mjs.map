{"version":3,"file":"analyticsDb.mjs","sources":["../../src/mastra/storage/pgClient.ts","../../src/mastra/storage/analyticsDb.ts"],"sourcesContent":["import pg from \"pg\";\r\n\r\nconst { Pool } = pg;\r\n\r\n/**\r\n * PostgreSQL Client for Direct Database Operations\r\n * Used for storing marketing analytics data\r\n */\r\n\r\nlet pool: pg.Pool | null = null;\r\n\r\nexport function getPgPool(): pg.Pool {\r\n  if (!pool) {\r\n    const connectionString = process.env.DATABASE_URL;\r\n    if (!connectionString) {\r\n      console.warn(\"⚠️ DATABASE_URL not set, database features will be limited\");\r\n      // Return a dummy pool that won't crash but will log warnings\r\n      return {\r\n        query: async () => {\r\n          console.warn(\"⚠️ Database query attempted but DATABASE_URL not configured\");\r\n          return { rows: [] };\r\n        },\r\n      } as any;\r\n    }\r\n    pool = new Pool({\r\n      connectionString,\r\n      max: 20,\r\n      idleTimeoutMillis: 30000,\r\n      connectionTimeoutMillis: 2000,\r\n    });\r\n  }\r\n  return pool;\r\n}\r\n\r\n/**\r\n * Initialize analytics tables in PostgreSQL\r\n */\r\nexport async function initializeAnalyticsTables(): Promise<void> {\r\n  if (!process.env.DATABASE_URL) {\r\n    console.warn(\"⚠️ Skipping analytics table initialization - DATABASE_URL not configured\");\r\n    return;\r\n  }\r\n  \r\n  const pool = getPgPool();\r\n  \r\n  try {\r\n    // Create analytics_data table\r\n    await pool.query(`\r\n      CREATE TABLE IF NOT EXISTS analytics_data (\r\n        id VARCHAR(255) PRIMARY KEY,\r\n        source VARCHAR(100) NOT NULL,\r\n        metric_type VARCHAR(100) NOT NULL,\r\n        date TIMESTAMP NOT NULL,\r\n        data JSONB NOT NULL,\r\n        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\r\n      );\r\n    `);\r\n\r\n    // Create index for querying by source and date\r\n    await pool.query(`\r\n      CREATE INDEX IF NOT EXISTS idx_analytics_source_date \r\n      ON analytics_data(source, date DESC);\r\n    `);\r\n\r\n    console.log(\"✅ Analytics tables initialized successfully\");\r\n  } catch (error) {\r\n    console.error(\"❌ Error initializing analytics tables:\", error);\r\n    // Don't throw - allow app to start even if DB init fails\r\n    console.warn(\"⚠️ Continuing without analytics database\");\r\n  }\r\n}\r\n\r\n/**\r\n * Execute a parameterized query\r\n */\r\nexport async function executeQuery<T = any>(\r\n  query: string,\r\n  params: any[] = []\r\n): Promise<T[]> {\r\n  const pool = getPgPool();\r\n  \r\n  try {\r\n    const result = await pool.query(query, params);\r\n    return result.rows as T[];\r\n  } catch (error) {\r\n    console.error(\"Database query error:\", error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n/**\r\n * Insert or update a record\r\n */\r\nexport async function upsertRecord(\r\n  table: string,\r\n  id: string,\r\n  data: Record<string, any>\r\n): Promise<void> {\r\n  const pool = getPgPool();\r\n  \r\n  const columns = Object.keys(data);\r\n  const values = Object.values(data);\r\n  const placeholders = values.map((_, i) => `$${i + 2}`).join(\", \");\r\n  const updates = columns.map((col, i) => `${col} = $${i + 2}`).join(\", \");\r\n\r\n  const query = `\r\n    INSERT INTO ${table} (id, ${columns.join(\", \")})\r\n    VALUES ($1, ${placeholders})\r\n    ON CONFLICT (id) DO UPDATE SET ${updates}\r\n  `;\r\n\r\n  try {\r\n    await pool.query(query, [id, ...values]);\r\n  } catch (error) {\r\n    console.error(`Error upserting record in ${table}:`, error);\r\n    throw error;\r\n  }\r\n}\r\n","import { getPgPool, executeQuery, initializeAnalyticsTables } from \"./pgClient\";\r\n\r\n/**\r\n * Database Helper for Marketing Analytics Data\r\n * Stores data from Google Analytics, Meta Pixel, TikTok Pixel, Microsoft Clarity\r\n */\r\n\r\nexport interface AnalyticsRecord {\r\n  id?: string;\r\n  source: string;\r\n  metric_type: string;\r\n  date: string;\r\n  data: any;\r\n  created_at?: string;\r\n}\r\n\r\n// Initialize tables on module load\r\ninitializeAnalyticsTables().catch(console.error);\r\n\r\n/**\r\n * Store analytics data in PostgreSQL\r\n */\r\nexport async function storeAnalyticsData(record: AnalyticsRecord): Promise<void> {\r\n  const pool = getPgPool();\r\n  \r\n  try {\r\n    const id = record.id || `${record.source}-${record.metric_type}-${Date.now()}`;\r\n    const query = `\r\n      INSERT INTO analytics_data (id, source, metric_type, date, data, created_at)\r\n      VALUES ($1, $2, $3, $4, $5, $6)\r\n      ON CONFLICT (id) DO UPDATE \r\n      SET data = EXCLUDED.data, created_at = EXCLUDED.created_at\r\n    `;\r\n    \r\n    const values = [\r\n      id,\r\n      record.source,\r\n      record.metric_type,\r\n      record.date,\r\n      JSON.stringify(record.data),\r\n      record.created_at || new Date().toISOString(),\r\n    ];\r\n    \r\n    await pool.query(query, values);\r\n    console.log(\"✅ Stored analytics data:\", { id, source: record.source, type: record.metric_type });\r\n    \r\n  } catch (error) {\r\n    console.error(\"❌ Error storing analytics data:\", error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n/**\r\n * Retrieve analytics data from PostgreSQL\r\n */\r\nexport async function getAnalyticsData(\r\n  source?: string,\r\n  startDate?: string,\r\n  endDate?: string\r\n): Promise<AnalyticsRecord[]> {\r\n  try {\r\n    let query = \"SELECT * FROM analytics_data WHERE 1=1\";\r\n    const params: any[] = [];\r\n    let paramCount = 1;\r\n    \r\n    if (source) {\r\n      query += ` AND source = $${paramCount}`;\r\n      params.push(source);\r\n      paramCount++;\r\n    }\r\n    \r\n    if (startDate) {\r\n      query += ` AND date >= $${paramCount}`;\r\n      params.push(startDate);\r\n      paramCount++;\r\n    }\r\n    \r\n    if (endDate) {\r\n      query += ` AND date <= $${paramCount}`;\r\n      params.push(endDate);\r\n      paramCount++;\r\n    }\r\n    \r\n    query += \" ORDER BY date DESC LIMIT 100\";\r\n    \r\n    const results = await executeQuery<AnalyticsRecord>(query, params);\r\n    console.log(`✅ Retrieved ${results.length} analytics records`);\r\n    return results;\r\n  } catch (error) {\r\n    console.error(\"❌ Error retrieving analytics data:\", error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n/**\r\n * Store SEO audit results\r\n */\r\nexport async function storeSeoAudit(audit: {\r\n  websiteUrl: string;\r\n  score: number;\r\n  issues: any[];\r\n  auditDate: string;\r\n}): Promise<void> {\r\n  try {\r\n    const record: AnalyticsRecord = {\r\n      id: `seo-audit-${audit.websiteUrl.replace(/[^a-zA-Z0-9]/g, '-')}-${Date.now()}`,\r\n      source: \"seo_analysis\",\r\n      metric_type: \"audit\",\r\n      date: audit.auditDate,\r\n      data: audit,\r\n    };\r\n    \r\n    await storeAnalyticsData(record);\r\n    console.log(\"✅ Stored SEO audit:\", { url: audit.websiteUrl, score: audit.score });\r\n  } catch (error) {\r\n    console.error(\"❌ Error storing SEO audit:\", error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n/**\r\n * Store content opportunity\r\n */\r\nexport async function storeContentOpportunity(opportunity: {\r\n  keyword: string;\r\n  searchVolume: number;\r\n  difficulty: number;\r\n  intent: string;\r\n  opportunity: string;\r\n}): Promise<void> {\r\n  try {\r\n    console.log(\"Storing content opportunity:\", { keyword: opportunity.keyword });\r\n    \r\n    const record: AnalyticsRecord = {\r\n      id: `content-opp-${opportunity.keyword}-${new Date().toISOString()}`,\r\n      source: \"search_query_analysis\",\r\n      metric_type: \"opportunity\",\r\n      date: new Date().toISOString(),\r\n      data: opportunity,\r\n    };\r\n    \r\n    await storeAnalyticsData(record);\r\n  } catch (error) {\r\n    console.error(\"Error storing content opportunity:\", error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n/**\r\n * Store generated content\r\n */\r\nexport async function storeGeneratedContent(content: {\r\n  contentType: string;\r\n  keyword: string;\r\n  content: string;\r\n  seoScore: number;\r\n}): Promise<void> {\r\n  try {\r\n    console.log(\"Storing generated content:\", { type: content.contentType, keyword: content.keyword });\r\n    \r\n    const record: AnalyticsRecord = {\r\n      id: `content-${content.contentType}-${content.keyword}-${new Date().toISOString()}`,\r\n      source: \"content_generation\",\r\n      metric_type: content.contentType,\r\n      date: new Date().toISOString(),\r\n      data: content,\r\n    };\r\n    \r\n    await storeAnalyticsData(record);\r\n  } catch (error) {\r\n    console.error(\"Error storing generated content:\", error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n/**\r\n * Store SEO schema snapshot data\r\n */\r\nexport async function storeSeoSchemaSnapshot(snapshot: {\r\n  websiteUrl: string;\r\n  schemaTypes: string[];\r\n  missingTypes: string[];\r\n  warnings: string[];\r\n  detectedIssues: Array<{\r\n    type: string;\r\n    severity: \"critical\" | \"high\" | \"medium\" | \"low\";\r\n    message: string;\r\n  }>;\r\n  crawledAt: string;\r\n}): Promise<void> {\r\n  try {\r\n    const record: AnalyticsRecord = {\r\n      id: `schema-${snapshot.websiteUrl.replace(/[^a-zA-Z0-9]/g, '-')}-${snapshot.crawledAt}`,\r\n      source: \"seo_schema\",\r\n      metric_type: \"snapshot\",\r\n      date: snapshot.crawledAt,\r\n      data: snapshot,\r\n    };\r\n\r\n    await storeAnalyticsData(record);\r\n  } catch (error) {\r\n    console.error(\"Error storing SEO schema snapshot:\", error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n/**\r\n * Store keyword radar / opportunity insights\r\n */\r\nexport async function storeKeywordRadarInsights(payload: {\r\n  industry: string;\r\n  focusKeywords: Array<{\r\n    keyword: string;\r\n    searchVolume: number;\r\n    difficulty: number;\r\n    opportunityScore: number;\r\n    intent: string;\r\n  }>;\r\n  trendSignals: Array<{ topic: string; delta: string }>;\r\n  generatedAt: string;\r\n}): Promise<void> {\r\n  try {\r\n    const record: AnalyticsRecord = {\r\n      id: `keyword-radar-${payload.industry}-${payload.generatedAt}`,\r\n      source: \"keyword_radar\",\r\n      metric_type: \"opportunity_map\",\r\n      date: payload.generatedAt,\r\n      data: payload,\r\n    };\r\n\r\n    await storeAnalyticsData(record);\r\n  } catch (error) {\r\n    console.error(\"Error storing keyword radar insights:\", error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n/**\r\n * Persist automation decisions (e.g., should create content)\r\n */\r\nexport async function storeAutomationDecision(decision: {\r\n  websiteUrl: string;\r\n  decisionType: string;\r\n  shouldAct: boolean;\r\n  confidence: number;\r\n  reasons: string[];\r\n  evaluatedAt: string;\r\n}): Promise<void> {\r\n  try {\r\n    const record: AnalyticsRecord = {\r\n      id: `decision-${decision.decisionType}-${decision.evaluatedAt}`,\r\n      source: \"automation_decision\",\r\n      metric_type: decision.decisionType,\r\n      date: decision.evaluatedAt,\r\n      data: decision,\r\n    };\r\n\r\n    await storeAnalyticsData(record);\r\n  } catch (error) {\r\n    console.error(\"Error storing automation decision:\", error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n/**\r\n * Store monitoring telemetry pulses\r\n */\r\nexport async function storeMonitoringPulse(pulse: {\r\n  websiteUrl: string;\r\n  signal: string;\r\n  severity: \"info\" | \"warning\" | \"critical\";\r\n  metrics: Record<string, any>;\r\n  observedAt: string;\r\n}): Promise<void> {\r\n  try {\r\n    const record: AnalyticsRecord = {\r\n      id: `monitoring-${pulse.signal}-${pulse.observedAt}`,\r\n      source: \"monitoring\",\r\n      metric_type: pulse.signal,\r\n      date: pulse.observedAt,\r\n      data: pulse,\r\n    };\r\n\r\n    await storeAnalyticsData(record);\r\n  } catch (error) {\r\n    console.error(\"Error storing monitoring pulse:\", error);\r\n    throw error;\r\n  }\r\n}\r\n"],"names":["pool"],"mappings":"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"}