import { Realtime } from "../types";
/**
 * TODO
 */
export declare class TokenSubscription {
    #private;
    /**
     * TODO
     */
    token: Realtime.Subscribe.Token;
    constructor(
    /**
     * TODO
     */
    token: Realtime.Subscribe.Token, apiBaseUrl: string | undefined, signingKey: string | undefined, signingKeyFallback: string | undefined);
    private getWsUrl;
    /**
     * TODO
     */
    connect(): Promise<void>;
    /**
     * TODO
     */
    private lazilyGetSubscriptionToken;
    /**
     * TODO
     */
    close(
    /**
     * TODO
     */
    reason?: string): void;
    /**
     * TODO
     */
    getJsonStream(): ReadableStream<{
        topic: string;
        channel: string;
        data: any;
        runId?: string;
        fnId?: string;
        createdAt: Date;
        envId?: string;
        kind: "data";
    } | {
        topic: string;
        channel: string;
        data: any;
        runId?: string;
        fnId?: string;
        kind: "datastream-start" | "datastream-end" | "chunk";
        streamId: string;
        stream: ReadableStream<any>;
    }>;
    /**
     * TODO
     */
    getEncodedStream(): ReadableStream<Uint8Array<ArrayBufferLike>>;
    /**
     * TODO
     */
    useCallback(callback: Realtime.Subscribe.Callback, stream?: ReadableStream<Realtime.Message>): void;
}
//# sourceMappingURL=TokenSubscription.d.ts.map