{"version":3,"file":"topic.js","names":["topic: Realtime.Topic.Builder","#schema"],"sources":["../src/topic.ts"],"sourcesContent":["import { type StandardSchemaV1 } from \"@standard-schema/spec\";\nimport { type Realtime } from \"./types.js\";\n\n/**\n * TODO\n */\nexport const topic: Realtime.Topic.Builder = (\n  /**\n   * TODO\n   */\n  id,\n) => {\n  return new TopicDefinitionImpl(id);\n};\n\nexport class TopicDefinitionImpl<\n  TTopicId extends string = string,\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  TPublish = any,\n  TSubscribe = TPublish,\n> implements Realtime.Topic.Definition<TTopicId, TPublish, TSubscribe>\n{\n  public name: TTopicId;\n  #schema?: StandardSchemaV1;\n\n  constructor(name: TTopicId, schema?: StandardSchemaV1) {\n    this.name = name;\n    this.#schema = schema;\n  }\n\n  public type<\n    const UPublish,\n    const USubscribe = UPublish,\n  >(): Realtime.Topic.Definition<TTopicId, UPublish, USubscribe> {\n    return this as Realtime.Topic.Definition<TTopicId, UPublish, USubscribe>;\n  }\n\n  public schema<const TSchema extends StandardSchemaV1>(\n    schema: TSchema,\n  ): Realtime.Topic.Definition<\n    TTopicId,\n    StandardSchemaV1.InferInput<TSchema>,\n    StandardSchemaV1.InferOutput<TSchema>\n  > {\n    return new TopicDefinitionImpl(this.name, schema);\n  }\n\n  public getSchema(): StandardSchemaV1 | undefined {\n    return this.#schema;\n  }\n}\n"],"mappings":";;;;;AAMA,MAAaA,SAIX,OACG;AACH,QAAO,IAAI,oBAAoB,GAAG;;AAGpC,IAAa,sBAAb,MAAa,oBAMb;CACE,AAAO;CACP;CAEA,YAAY,MAAgB,QAA2B;AACrD,OAAK,OAAO;AACZ,QAAKC,SAAU;;CAGjB,AAAO,OAGwD;AAC7D,SAAO;;CAGT,AAAO,OACL,QAKA;AACA,SAAO,IAAI,oBAAoB,KAAK,MAAM,OAAO;;CAGnD,AAAO,YAA0C;AAC/C,SAAO,MAAKA"}